<%= render partial: 'layouts/header' %>
<h1>収入登録しよう！！</h1>

<%= form_with model: @basic_income_record, remote: true do |f| %>
  <p>
    <%= label_tag :registerdate, '日付：' %>
    <%= f.date_field :registerdate %>
  </p>
  <p>
    <%= label_tag :money, '金額：' %>
    <%= f.number_field :money %>
  </p>
  <p>
    <%= label_tag :memo, 'MEMO：' %>
    <%= f.text_field :memo %>
  </p>
  <P>
    <%= label_tag :basic_income_category_id, '収入科目：' %>
    <%= f.collection_radio_buttons :basic_income_category_id, BasicIncomeCategory.all, :id, :name, {id: "basic_income_group"}, disabled: false, onclick: "basicfunc()" %>
    <%= f.collection_radio_buttons :original_income_category_id, OriginalIncomeCategory.all, :id, :name, {id: "original_income_group"}, disabled: false, onclick: "originalfunc()" %>
  </P>
  <P>
    <%= f.hidden_field :user_id, value: current_user.id %>
  </P>
  <%= f.submit "登録" %>
<% end %>

  <script>
   var basicfunc = function(){
       var oic = document.querySelectorAll('[id^="original"]');
       for (var i = 0; i < oic.length; i++) {
       oic[i].disabled = true;
     }
   };
   
   var originalfunc = function(){
       var bic = document.querySelectorAll('[id^="basic"]');
       for (var i = 0; i < bic.length; i++) {
       bic[i].disabled = true;
     }
   };
  </script>